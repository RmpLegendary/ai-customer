<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="">
<head>
  <title>Products</title>
  <script src="https://unpkg.com/htmx.org@1.9.10"></script>

  <link rel="stylesheet"
        href="https://early.webawesome.com/webawesome@3.0.0-beta.6/dist/styles/webawesome.css" />
  <script type="module"
          src="https://early.webawesome.com/webawesome@3.0.0-beta.6/dist/webawesome.loader.js"></script>

  <style>
    :root {
      --wa-color-primary: #1976d2;

      /* safe fallbacks */
      --success-color: #2e7d32; /* green */
      --danger-color: #c62828;  /* red */
    }

    .full-grid {
      border-collapse: collapse; /* collapse border spacing */
      width: 100%;
    }

    .full-grid th,
    .full-grid td {
      border: 1px solid #ccc; /* border for every cell */
      padding: 0.5rem;
      text-align: left;
    }

    .full-grid thead th {
      background-color: #f5f5f5; /* subtle header background */
    }

    /* prices black */
    .price-black {
      color: #000;
      font-weight: 600;
    }

    /* availability badges */
    .badge-available {
      background-color: var(--success-color) !important;
      color: #fff !important;
    }

    .badge-out {
      background-color: var(--danger-color) !important;
      color: #fff !important;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--wa-color-light);
      padding: var(--wa-spacing-lg);
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--wa-spacing-lg);
    }

    /* variants list styles */
    .variants {
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .variants li {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: .75rem;
      padding: .25rem 0;
      border-bottom: 1px solid rgba(0,0,0,.06);
    }
  </style>
</head>
<body>

<header>
  <h1>ðŸ“¦ Products</h1>
  <wa-button variant="primary"
             hx-get="/products"
             hx-target="#product-table"
             hx-swap="outerHTML">
    Load Products
  </wa-button>
</header>

<!-- Products Table -->
<div id="product-table" th:replace="fragments/product-table :: table"></div>

<!-- Add Product Form -->
<wa-card class="wa-mt-lg">
  <wa-card-header>
    <wa-card-title>âž• Add New Product</wa-card-title>
  </wa-card-header>
  <wa-card-content>
    <form hx-post="/products"
          hx-target="#product-table"
          hx-swap="outerHTML"
          class="wa-grid wa-grid--2 wa-gap-md">

      <wa-input name="title" placeholder="Product Title" required></wa-input>
      <wa-input name="vendor" placeholder="Vendor"></wa-input>
      <wa-input name="productType" placeholder="Product Type"></wa-input>
      <wa-input name="variantTitle" placeholder="Variant Title" required></wa-input>
      <wa-input type="number" step="0.01" name="variantPrice" placeholder="Price" required></wa-input>

      <div class="wa-flex wa-items-center wa-gap-sm wa-col-span-2">
        <wa-checkbox name="variantAvailable" checked>Available</wa-checkbox>
      </div>

      <div class="wa-col-span-2 wa-text-right">
        <wa-button type="submit" variant="primary" icon="plus-circle">
          Add Product
        </wa-button>
      </div>
    </form>
  </wa-card-content>
</wa-card>

</body>
</html>